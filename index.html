<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Page Title</title>
</head>
<body>
  <button id="rock">ROCK</button>
  <button id="paper">PAPER</button>
  <button id="scissors">SCISSORS</button>
  <div id="playerText"></div>
  <div id="oppText"></div>
  <div id="result"></div>
  <div id="score"></div>
  <div id="winner"></div>
  <script>

    let selection;
    let humanChoice;
    let computerChoice;
    let humanScore = 0;
    let computerScore = 0;

    const rockButton = document.querySelector('#rock');
    const paperButton = document.querySelector('#paper');
    const scissorsButton = document.querySelector('#scissors');

    //playGame();
    //repeat(playGame , 4);

    rockButton.addEventListener('click', () => playGame("rock"));
    paperButton.addEventListener('click', () => playGame("paper"));
    scissorsButton.addEventListener('click', () => playGame("scissors"));

    function getHumanChoice() {
        //humanChoice = prompt("Welcome to Rock, Paper, Scissors! Prepare to win or lose entirely by chance! Please enter 'Rock', 'Paper', or 'Scissors'.").toLowerCase()
        if (humanChoice === "rock") {
            document.getElementById("playerText").innerHTML = ("You throw " + humanChoice + ", the correct choice.")
        } else if (humanChoice === "paper") {
            document.getElementById("playerText").innerHTML = ("You throw " + humanChoice + ", you filth.")
        } else if (humanChoice === "scissors") {
            document.getElementById("playerText").innerHTML = ("You throw " + humanChoice + ".")
        } else if (humanChoice === "gun") {
            document.getElementById("playerText").innerHTML = ("Not today you cheating slime.")
        } else {
            document.getElementById("playerText").innerHTML = ("Nope. Gotta write 'rock', 'paper', or 'scissors'. Try again.")
        }
        return humanChoice;
    }
   
    function getComputerChoice() {
        const choices = ["rock" , "paper" , "scissors"];
        function getRandomInt(max) {
            return Math.floor(Math.random() * max);
        }
        
        computerChoice = choices[getRandomInt(3)];
        document.getElementById("oppText").innerHTML = ("Your opponent throws " + computerChoice);
        return computerChoice;
    }

    function playGame(string) {
        if (humanScore < 5 && computerScore < 5) {
            humanChoice = string;
            getHumanChoice();
            getComputerChoice();
            playRound(humanChoice , computerChoice);
        }

        if (humanScore >= 5 || computerScore >= 5) {
            declareWinner();
        }
    }

    // function repeat(func , times) {
    //     func();
    //     times && --times && repeat (func , times);
    // }
     
    function playRound(humanChoice , computerChoice) {
        if(humanChoice === "rock") {
            if (computerChoice === "rock") {
                humanScore++;
                computerScore++;
                document.getElementById("result").innerHTML = ("Kings, the both of you.")
            } else if (computerChoice === "scissors") {
                humanScore++;
                document.getElementById("result").innerHTML = ("You win. As you should.")
            } else if (computerChoice === "paper") {
                computerScore ++;
                document.getElementById("result").innerHTML = ("You die with your honor.")
            }
        } else if (humanChoice === "paper") {
            if (computerChoice === "paper") {
                humanScore--;
                computerScore--;
                document.getElementById("result").innerHTML = ("You rats. You deserve each other.")
            } else if (computerChoice === "rock") {
                humanScore++;
                document.getElementById("result").innerHTML = ("Take your victory, and live as a coward.")
            } else if (computerChoice === "scissors") {
                computerScore++;
                document.getElementById("result").innerHTML = ("It's no more than you deserve.")
            }
        } else if (humanChoice === "scissors") {
            if (computerChoice === "scissors") {
                document.getElementById("result").innerHTML = ("You tie.")
            }
            if (computerChoice === "paper") {
                humanScore++;
                document.getElementById("result").innerHTML = ("Another one bites the dust.")
            } else if (computerChoice === "rock") {
                computerScore++;
                document.getElementById("result").innerHTML = ("You fool. Rock reigns supreme.")
            }
        }

        document.getElementById("score").innerHTML = ("You: " + humanScore + ", Computer: " + computerScore)
    }

    function declareWinner() {
        if (humanScore > computerScore) {
            document.getElementById("winner").innerHTML = ("YOU WIN!")
        }
        else if (humanScore < computerScore) {
            document.getElementById("winner").innerHTML = ("YOU LOSE!")
        }
        else if (humanScore = computerScore) {
            document.getElementById("winner").innerHTML = ("IT'S A TIE!")
        }
    }
  </script>
</body>
</html>